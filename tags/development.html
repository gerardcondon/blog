<!doctype html> 
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Blog</title>
    <meta content="Personal Blog and Website" name="description" />
    <link rel="alternate" type="application/atom+xml" title="Chess Analysis" href="https://www.gerardcondon.com/feed.xml" /><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script><!-- Latest compiled and minified CSS --><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><!-- Optional theme --><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"><!-- Latest compiled and minified JavaScript --><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><link href="../stylesheets/all.css" rel="stylesheet" type="text/css" /><script type="text/javascript">
      (function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-124147465-1", location.hostname);ga("send","pageview");
    </script><script src="../javascripts/all.js" type="text/javascript"></script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle collapsed" data-target="#navbar-ex1-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="https://www.gerardcondon.com">GerardCondon.com</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar-ex1-collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="/">Home</a>
            </li>
            <li>
              <a href="../gaeilge.html">Gaeilge</a>
            </li>
            <li>
              <a href="/music/piano.html">Music</a>
            </li>
            <li>
              <a href="/chess">Chess</a>
            </li>
            <li>
              <a href="../pages/links.html">Links</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-lg-9 col-md-9"><h3>
  Articles tagged 'development'
</h3>
<p>
  Page 1 of 4
</p>
<ul>
  <h5>
    <a href="../2020/04/02/bare-minimum-heroku-site.html">Setting up a static site with basic web authentication</a>
  </h5><p>Moving on from my initial Heroku experiment, I removed the Jekyll site and now have the bare minimum required for hosting content requiring authentication on Heroku</p>

<ol>
<li>Create a new Heroku app</li>
<li>Add the [static site buildpack]</li>
<li>Create a folder (I called mine static) and create a file called <code>static.json</code> with the following contents
<code>
{
&quot;clean_urls&quot;: true,
&quot;https_only&quot;: true,
&quot;root&quot;: &quot;static/&quot;,
&quot;basic_auth&quot;: true
}
</code></li>
<li>Set two environment variables <code>BASIC_AUTH_USERNAME</code> and <code>BASIC_AUTH_PASSWORD</code> - make sure that the value of password is readable by htpasswd e.g. <code>openssl passwd -apr1 &lt;password_plaintext&gt;</code></li>
<li>Copy whatever content you are going to host into the <code>static</code> folder, add this to git and push to heroku using <code>git push heroku master</code> (Heroku will have set up that remote when creating the app). When regenerating the site this is the only step you will need to rerun.</li>
</ol>

<p>I have a lot of Gitbook content which I will need to add to the site - for now I am manually building the books and copying them into the <code>static</code> folder. Next step will be to script that.</p>

  <p>
    <small><a href="../2020/04/02/bare-minimum-heroku-site.html">→</a> posted on April  2, 2020<span class="tag-item"><small class="label label-default label-tag">heroku</small></span><span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2020/03/18/heroku-static-site.html">Setting up a static site with basic web authentication</a>
  </h5><p>I have some Gitbooks created for notes that I&#39;ve taken on various programming books or courses down throughout the years. I didn&#39;t want to put these up on a Github pages site as notes like that probably violate copyright. So I wanted some way to hide them behind authentication so that only I could see them.</p>

<p>My initial thinking is that I would need some kind of server to respond to requests and only serve the content if needed. You could probably do this with S3 or some other AWS service but I&#39;m paranoid about using those as even if you think you are within the free tier, you could still be hit with a bill for unexpected usage. I didn&#39;t trust that my site would always be configured correctly enough to avoid that. Then next I considered a site that would give me enough free CPU to run a basic server. Enter <a href="https://www.heroku.com">Heroku</a>.</p>

<p>I tried to use the <a href="https://github.com/benbalter/jekyll-auth">Jekyll Auth</a> plugin but couldn&#39;t get it working.</p>

<ul>
<li>The gem released on rubygems is out of date and clashes with the dependencies in Jekyll 4.0. On the upside this did teach me how to include a <a href="https://bundler.io/guides/git.html">gem</a> directly from Github. If the repository in question has a <code>.gemspec</code> file at the root level then you can use the <code>git</code> option and pass the url of the repo e.g. <code>gem &#39;jekyll-auth&#39;, git: &quot;https://github.com/benbalter/jekyll-auth&quot;</code></li>
<li>Even after getting everything configured I was getting denied when trying to authenticate with my Github account. It looked similar to this <a href="https://github.com/benbalter/jekyll-auth/issues/141">issue</a> which didn&#39;t get resolved so I decided to try something else.</li>
</ul>

<p><strong>Heroku Buildpack</strong></p>

<p>I tried a different approach which was to get Heroku to serve the files and then use http basic authentication to protect them. Heroku has a <a href="https://github.com/heroku/heroku-buildpack-static">buildpack</a> for static sites. This is marked as experimental but it worked fine for me. Hopefully they won&#39;t remove it.</p>

<ul>
<li>I used the guide <a href="https://blog.heroku.com/jekyll-on-heroku">here</a> to get a basic Jekyll installation up and running on Heroku. This worked pretty much as outlined.</li>
<li>Then I add http basic authentication as outlined in the relevant <a href="https://github.com/heroku/heroku-buildpack-static#basic-authentication">section</a> on the Heroku build pack page. You add the option to the static.json file and specify the username and password that you want in env variables. I only wanted a single user i.e. me so I&#39;m not sure if this approach scales to multiple users. I think it does via htpasswd files. To set the password you must first run it through a tool to generate a hash that <a href="https://httpd.apache.org/docs/2.4/programs/htpasswd.html">htpasswd</a> can accept. I used <code>openssl passwd -apr1 &lt;password_plaintext&gt;</code>. Then you set the env variable <code>BASIC_AUTH_PASSWORD</code> to be this value. This didn&#39;t work for me from the command line - probably some characters that needed escaping - so I just set it via the web interface.</li>
</ul>

<p>Some misc Heroku issues that I ran into.</p>

<ul>
<li>I work on WSL and the snap approach for installation didn&#39;t work for me so I used the curl script. This mostly worked, however the <a href="https://github.com/heroku/cli/issues/1160">permissions</a> on a couple of folders were set to root so I had to chown these back to my normal account.</li>
<li>I got errors about an app that I thought I had deleted. However the Heroku CLI adds a remote to the git repo pointing to the app so even if you delete the app, make sure that the remote is deleted also.</li>
</ul>

<p>In the end this worked out fine - a lot easier than I expected and I have a website hidden behind authentication. The dyno that the website is on goes to sleep if not used for a while so the initial request for a page can be slow if the dyno is loading up but it&#39;s still only a few seconds. Now that I have a server on Heroku I look forward to seeing what else I can do with it.</p>

  <p>
    <small><a href="../2020/03/18/heroku-static-site.html">→</a> posted on March 18, 2020<span class="tag-item"><small class="label label-default label-tag">heroku</small></span><span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2019/04/05/modern-c-plus-plus-articles.html">Excellent Series of Articles on Modern C++</a>
  </h5>
  <p>Here is a great series of articles on modern C++:</p>
  
  <ol>
  <li><a href="https://ds9a.nl/articles/posts/c++-1/">Relation between C and C++, Strings</a></li>
  <li><a href="https://ds9a.nl/articles/posts/cpp-2/">Namespaces, Classes, RAII, Smart pointers, Threads, Locking, Error Handling</a></li>
  <li><a href="https://ds9a.nl/articles/posts/cpp-3/">Inheritance &amp; polymorphism, Templates</a></li>
  <li><a href="https://ds9a.nl/articles/posts/cpp-4/">Lambdas, Containers and algorithms, Boost containers</a></li>
  <li><a href="https://ds9a.nl/articles/posts/cpp-5/">Memory management, RVO, Smart Pointers</a></li>
  <li><a href="https://ds9a.nl/articles/posts/cpp-6/">Static assert, Constexpr, Time, Enums, Initializer Lists, Regexp, Optionals</a></li>
  </ol>
  
  <p>
    <small><a href="../2019/04/05/modern-c-plus-plus-articles.html">→</a> posted on April  5, 2019<span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2018/10/02/automated-building-with-circleci.html">Automated building with CircleCI</a>
  </h5><p>I&#39;ve started using <a href="#">CircleCI</a> to automatically build repos - specifically my various static websites.
It&#39;s working really well. CircleCI will detect a change to the Github repo, automatically trigger a build and then push the result to the gh-pages branch.</p>

<p>One tip I found useful is to use a <a href="https://circleci.com/docs/2.0/gh-bb-integration/#enable-your-project-to-check-out-additional-private-repositories">machine account</a> to push to the gh-pages branch - this means that we don&#39;t need to use our actual github SSH key.
You will need machine accounts in [both[(https://github.com/DevProgress/onboarding/wiki/Using-Circle-CI-with-Github-Pages-for-Continuous-Delivery) Github and CircleCI.
For each repository that you want to build you need to add the machine account as a collaborator on the Github repository.</p>

<p>CircleCI will also trigger a build on the push to the gh-pages branch which is not what you want. To stop this we need to add <code>[ci skip]</code> to our commit message. In Middleman we can do this by adding <code>deploy.commit_message = &quot;Automated commit at #{time} by #{signature} [ci skip]&quot;</code> to our <code>config.ru</code>.</p>

  <p>
    <small><a href="../2018/10/02/automated-building-with-circleci.html">→</a> posted on October  2, 2018<span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2017/10/24/misc-html-links.html">Misc HTML Links</a>
  </h5>
  <p>Some links gathered while adding content to my <a href="http://www.gerardcondon.com/chess">chess</a> site</p>
  
  <ul>
  <li><a href="https://stackoverflow.com/a/2788289/1131820">Set the value of a text area</a></li>
  <li><a href="https://collaboration133.com/how-to-scale-iframe-content-in-ie-chrome-firefox-and-safari/2717/">Scale the content of an iFrame</a></li>
  <li><a href="https://stackoverflow.com/a/20583214/1131820">Use margin:auto to center iFrame</a></li>
  <li><a href="https://stackoverflow.com/a/21903119/1131820">Pass URL arguments to an iFrame</a></li>
  <li><a href="https://www.freeformatter.com/url-encoder.html#ad-output">Encode URL parameters</a></li>
  <li>Also you can use the <a href="https://www.w3schools.com/tags/tag_figcaption.asp">FigCaption</a> tag to add a caption to an iFrame. </li>
  </ul>
  
  <p>
    <small><a href="../2017/10/24/misc-html-links.html">→</a> posted on October 24, 2017<span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2017/06/01/sublime-text-vintage-mode.html">Sublime Text Vintage Mode</a>
  </h5>
  <p>I started learning Vim recently and it works fantastically well on Linux. 
  Windows is a bit of a mess though and I&#39;m not confident of getting plugins working correctly. 
  Maybe the new Linux subsystem for Windows will help this. </p>
  
  <p>In the meantime I&#39;ve enabled vintage mode on Sublime Text and it seems to be working well. 
  The main thing it gives me is the keyboard navigation keys. 
  Not having to use the mouse or arrow keys is a big win. 
  I never realised how good it would be until I tried it.</p>
  
  <p>References: <a href="https://www.sublimetext.com/docs/3/vintage.html">Sublime Text Docs</a>, <a href="https://kingluddite.com/st2/using-vintage-mode-in-sublime-text-the-skinny">King Luddite Blog Post</a></p>
  
  <p>
    <small><a href="../2017/06/01/sublime-text-vintage-mode.html">→</a> posted on June  1, 2017<span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2017/02/25/converting-yaml-to-json-in-javascript.html">Converting Yaml to JSON in JavaScript</a>
  </h5><p>I use the Middleman <a href="https://middlemanapp.com/advanced/data-files">data files</a> feature for my chess <a href="http://www.gerardcondon.com/chess/">site</a>.
These files are written in yaml. 
I could have used json directly for these which would have removed the need for this post but I find yaml is easier for manual editing - with json you constantly have to worry about matching up brackets. 
From the Middleman erb files, when I build locally I am able to access things like <code>data.fide.ratings</code>. 
However I would like to be able to load this data remotely and process it from my javascript code.</p>

<p>To load the remote file I just use the JQuery Ajax <a href="https://api.jquery.com/jquery.get/">get</a> function and pass it the url of the file that I want. 
Then I use the <a href="https://github.com/nodeca/js-yaml">js-yaml</a> library to parse the result and create a <code>data</code> json object from this. 
Now from my JavaScript code I am able to access the same data using the same notation.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">loadYamlFromUrl</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span> <span class="dl">"</span><span class="s2">https://raw.githubusercontent.com/gerardcondon/chess/master/website/data/ratings.yaml</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">jsyaml</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="c1">// can now access data.fide etc</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p>This has worked well for me and for any data file that I was able to access via Middleman, I can now access the same data from JavaScript in the same format.</p>

  <p>
    <small><a href="../2017/02/25/converting-yaml-to-json-in-javascript.html">→</a> posted on February 25, 2017<span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2017/02/15/adding-sidebar-links-to-local-gitbooks.html">Adding sidebar links to local Gitbooks</a>
  </h5><p>I&#39;ve started keeping track of various notes in markdown format and I wanted to use <a href="https://www.gitbook.com">Gitbook</a> to group them together.
I&#39;m using the <a href="https://github.com/GitbookIO/gitbook-cli">npm module</a> to build it locally.
It&#39;s a useful tool and theThe completed book looks nice.
However I would like to add some customisations e.g. links back to my main page.</p>

<p>It&#39;s not easy to add simple customisations.
Or more like it probably is but it&#39;s not well documented how to do so.
Editing the header is a bit awkward as you have to modify the theme yourself.
I&#39;ll probably end up just adding a header above it using an iframe.</p>

<p>One thing I did find out how to do was to add links to the sidebar.
You edit the book.json to add a links section like this</p>
<div class="highlight"><pre class="highlight javascript"><code>  <span class="p">{</span>
    <span class="dl">"</span><span class="s2">links</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">sidebar</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Gerard Condon</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://www.gerardcondon.com</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">Github</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://github.com/gerardcondon/tools-docs</span><span class="dl">"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>
  <p>
    <small><a href="../2017/02/15/adding-sidebar-links-to-local-gitbooks.html">→</a> posted on February 15, 2017<span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2016/11/20/adding-microposts-to-middleman.html">Adding microposts to Middleman</a>
  </h5><p>I came across the idea of microblogs from Manton Reece&#39;s <a href="http://www.manton.org/tag/microblogs">blog</a>.
The idea is that instead of just using the blog for long content, you can post short Tweet like items there also.
Needless to say you can just use Twitter for this but it&#39;s more fun to do something unneccessarily complicated!
I have form here - like using Octopress for a blog instead of WordPress.  </p>

<p>Basically, instead of using Twitter to publish short notifications, you can post them to your own site and if necessary to the likes of Twitter from there.
Having control of your own content gives you independence from third party sites - if Twitter shut down tomorrow then my posts would still be available here.
If I&#39;m putting content on the web then ideally I would like it to be on my site under my own domain name.
I&#39;ve decided to add them first to my <a href="http://www.gerardcondon.com/chess">chess</a> site and then if they work out there, try to port them to Octopress.</p>

<p>That blog is written using <a href="http://www.middlemanapp.com">Middleman</a>, which has the ability to use data files.
Any <a href="https://en.wikipedia.org/wiki/YAML">yaml</a> file in the data folder is available to the Middleman app using a <code>data.filename.foo</code> like syntax.
This means that I can create a yaml file containing the microblog posts and then use that to generate the appropriate html pages.</p>

<p>I have a microposts.yml file with each entry having text and date entries. This is sufficient for the moment but also yaml is flexible enough that I can add more attributes later.
<code>yml
- text: here is another post
  date: 2016-11-19
- text: here is a post
  date: 2016-11-20
</code></p>

<p>I use the Middleman <a href="https://middlemanapp.com/basics/blogging/">blog extension</a> to generate the blog portion of the site.
I want to keep using this as it handles rss, tags, archive pages, pagination etc.
It works by generating posts from files in a source folder. In order to integrate with this, I want to generate a file per micropost in the correct location.
Under the source folder I split out my posts into two folders <code>manual</code> and <code>automated</code>.
I updated the regex in config.rb to handle this <code>blog.sources = &quot;posts/{type}/{year}-{month}-{day}-{title}.html&quot;</code>.
Middleman will process these equally but now I can check what type the post is by using <code>data[&quot;type&quot;]</code>.</p>

<p>In the config.rb I delete the contents of the automated folder on each build.
I tried using <code>before_build</code> hooks but they were being called too late - the Middleman data structures were already created with the previous contents of the automated folder.
This lead to build errors and issues with sitemaps etc.
So I just perform the File operations directly in the config.rb. This ensurs that they are executed before the blog extension processes the posts folder.
Then I iterate through the micropost data from the yaml file and create the appropriate file in the automated folder.</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="c1"># config.rb - Clear out automated posts folder</span>
<span class="n">automated_posts_folder</span> <span class="o">=</span> <span class="s2">"</span><span class="si">#{</span><span class="n">config</span><span class="p">[</span><span class="ss">:source</span><span class="p">]</span><span class="si">}</span><span class="s2">/posts/automated"</span>
<span class="no">FileUtils</span><span class="p">.</span><span class="nf">rmtree</span><span class="p">(</span><span class="n">automated_posts_folder</span><span class="p">)</span>
<span class="no">FileUtils</span><span class="p">.</span><span class="nf">mkdir</span><span class="p">(</span><span class="n">automated_posts_folder</span><span class="p">)</span>

<span class="n">post_counter</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">data</span><span class="p">.</span><span class="nf">microposts</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">micropost</span><span class="o">|</span>
  <span class="n">post_content</span> <span class="o">=</span> <span class="s2">"---</span><span class="se">\n</span><span class="s2">"</span>
  <span class="n">post_content</span> <span class="o">+=</span> <span class="s2">"title: mp</span><span class="si">#{</span><span class="n">post_counter</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span>
  <span class="n">post_content</span> <span class="o">+=</span> <span class="s2">"date: </span><span class="si">#{</span><span class="n">micropost</span><span class="p">.</span><span class="nf">date</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span>
  <span class="n">post_content</span> <span class="o">+=</span> <span class="s2">"tags: microposts</span><span class="se">\n</span><span class="s2">"</span>
  <span class="n">post_content</span> <span class="o">+=</span> <span class="s2">"micropost: true</span><span class="se">\n</span><span class="s2">"</span>
  <span class="n">post_content</span> <span class="o">+=</span> <span class="s2">"---</span><span class="se">\n</span><span class="s2">"</span>
  <span class="n">post_content</span> <span class="o">+=</span> <span class="s2">"</span><span class="si">#{</span><span class="n">micropost</span><span class="p">.</span><span class="nf">text</span><span class="si">}</span><span class="s2">"</span>

  <span class="no">File</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">automated_posts_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="n">micropost</span><span class="p">.</span><span class="nf">date</span><span class="si">}</span><span class="s2">-mp</span><span class="si">#{</span><span class="n">post_counter</span><span class="si">}</span><span class="s2">.html.md"</span><span class="p">,</span> <span class="n">post_content</span><span class="p">)</span>
  <span class="n">post_counter</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">end</span>
</code></pre></div>
<p>I&#39;ve added <code>micropost: true</code> metadata to each of my generated files so that I can check if the post is a micropost using <code>if data[&quot;micropost&quot;]</code>.
This allows me to customize how I display these posts - in particular I don&#39;t show a title for these posts.</p>

<p>Speaking of titles, some special handling is required for these as the Middleman blog extension uses these for the generated html file names.
I added an attribute <code>display_title</code> to the <code>BlogArticle</code> class which will return an empty string if the post is a micropost.
This allows me to specify a fake title for each micropost using an incrementing ID counter.
The blog extension can use this fake title as normal but it will never be seen by the viewer of the blog.
Instead anywhere that a title is required in html markup I can change it to use the <code>display_title</code>  attribute.
The fact that Ruby has open classes makes adding this very easy - I can do it in the config.rb file and don&#39;t need to go mucking about in the Blog extension code.</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="c1"># config.rb</span>
<span class="k">module</span> <span class="nn">Middleman</span>
  <span class="k">module</span> <span class="nn">Blog</span>
    <span class="k">module</span> <span class="nn">BlogArticle</span>
      <span class="k">def</span> <span class="nf">display_title</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">"micropost"</span><span class="p">]</span> <span class="p">?</span> <span class="s2">""</span> <span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s2">"title"</span><span class="p">]</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>This means that I can display these microposts just using the main text and not displaying a title. They interleave nicely with longer form blog posts.</p>

<p>Using the Middleman Blog Extension means that I also get RSS integration for these posts.
I edited the xml templates to remove the title if the post is a micropost.
Now in my RSS reader, they show up with the body text as the title instead of the fake title needed to make the extension work.</p>

<p>This current implementation is basic enough and I have a few ideas of how to improve it in future.</p>

<ul>
<li>I like the idea of the static site but the editing part is not particularly nice and is a bit of a barrier to posting. I would like to use something like <a href="https://www.contentful.com/">Contentful</a> so that I can add posts without having to open a dev environment.</li>
<li>Once you have something like Contentful, then the next step would be to use that to trigger automatic builds once a new post is added. This would mean that the site is always updated and assuming Contentful works well from Android, would allow me to make these microposts from my phone.</li>
<li>I could use <a href="https://ifttt.com/">IFTTT</a> to cross post the microposts to Twitter - however I would have to deal with the 140 character limit there. I would also like to automatically post a notification to Twitter when I put up a normal blog post.</li>
<li>Currently everything is going into the same RSS feed. I would like to add separate RSS feeds e.g. micropost only, normal post only. I think this would also help with using IFTTT to post to Twitter.</li>
<li>One nice consequence of using the Middleman data files is that there is a much better separation of content from markup. I would like to expand this to also apply to full blog posts. Ideally everything content related would come from the data files. Then I have more options as to how to generate those data files e.g. Contentful for the tweets or a Rails app for the pgn files.</li>
</ul>

  <p>
    <small><a href="../2016/11/20/adding-microposts-to-middleman.html">→</a> posted on November 20, 2016<span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2016/11/09/fixing-twitter-sidebar-for-octopress-2-dot-x.html">Fixing Twitter sidebar for Octopress 2.x</a>
  </h5><p>I noticed recently that the Octopress Twitter plugin for my sidebar was broken.
The reason is that Twitter no longer supports the APIs that the plugin accesses.
Instead now they have a <a href="https://publish.twitter.com/#">widget page</a> to generate html code that will embed a list of your tweets on your page.</p>

<p>I created a widget for myself and customised it by adding the <code>nofooter transparent noheader</code> attributes to <code>data-chrome</code>.
These remove various headings and background colouring so that it blends in with the site a bit more.</p>

<p>To add this to an Octopress site, you replace the code in <code>source/_includes/asides/twitter.html</code> with this new code.
I also added a follow button which displays a Twitter formatted follow button and a count of your subscribers.</p>

<p>The full code is as follows</p>
<div class="highlight"><pre class="highlight html"><code><span class="c">&lt;!-- source/_includes/asides/twitter.html --&gt;</span>
{% if site.twitter_user %}
<span class="nt">&lt;section&gt;</span>
  <span class="nt">&lt;h1&gt;</span>Latest Tweets<span class="nt">&lt;/h1&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"twitter-timeline"</span> <span class="na">data-chrome=</span><span class="s">"nofooter transparent noheader"</span> <span class="na">data-tweet-limit=</span><span class="s">"5"</span> <span class="na">href=</span><span class="s">"https://twitter.com/gercondon"</span><span class="nt">&gt;</span>Tweets by gercondon<span class="nt">&lt;/a&gt;</span> <span class="nt">&lt;script </span><span class="na">async</span> <span class="na">src=</span><span class="s">"//platform.twitter.com/widgets.js"</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"twitter-follow-button"</span> <span class="na">href=</span><span class="s">"https://twitter.com/gercondon"</span><span class="nt">&gt;</span>Follow @gercondon<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/section&gt;</span> 
{% endif %}
</code></pre></div>
  <p>
    <small><a href="../2016/11/09/fixing-twitter-sidebar-for-octopress-2-dot-x.html">→</a> posted on November  9, 2016<span class="tag-item"><small class="label label-default label-tag">development</small></span><span class="tag-item"><small class="label label-default label-tag">octopress</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2015/12/09/new-chess-site.html">New Chess Site</a>
  </h5>
  <p>I wanted to learn how to create websites using <a href="http://www.getbootstrap.com">Bootstrap</a> so I&#39;ve created a chess site at <a href="http://www.gerardcondon.com/chess">www.gerardcondon.com/chess</a>.
  This is a static site developed using <a href="http://www.middlemanapp.com">Middleman</a>. It uses Bootstrap and <a href="http://pgn4web.casaschi.net/home.html">pgn4web</a> to display chess games and allow the viewer to play through them.</p>
  
  <p>
    <small><a href="../2015/12/09/new-chess-site.html">→</a> posted on December  9, 2015<span class="tag-item"><small class="label label-default label-tag">development</small></span><span class="tag-item"><small class="label label-default label-tag">chess</small></span></small>
  </p>
  <hr />
  <h5>
    <a href="../2015/06/15/upgrading-to-rails-4-dot-2-on-openshift.html">Upgrading to Rails 4.2 on OpenShift</a>
  </h5><p>I updated my Rails test app from 4.1 to 4.2. However when I pushed to <a href="http://www.openshift.com">OpenShift</a> I got the following error</p>
<div class="highlight"><pre class="highlight plaintext"><code>You have already activated rack 1.5.2, but your Gemfile requires rack 1.6.0. 
Using bundle exec may solve this. (Gem::LoadError)
</code></pre></div>
<p>I found the answer on Google Groups <a href="https://groups.google.com/forum/#!topic/phusion-passenger/BLf0FDyhFAM">here</a>. The root cause is that OpenShift is <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1184179">dependent</a> on Rack 1.5.2 and Passenger 4.0.18. The proper fix will have to wait until they update their versions of that software. Until then to fix this error, ssh into the OpenShift app and in the <code>app-root</code> folder run </p>
<div class="highlight"><pre class="highlight plaintext"><code>gem install rack
</code></pre></div>
  <p>
    <small><a href="../2015/06/15/upgrading-to-rails-4-dot-2-on-openshift.html">→</a> posted on June 15, 2015<span class="tag-item"><small class="label label-default label-tag">development</small></span></small>
  </p>
  <hr />
</ul>
<p>
  <a href="development/page/2.html">Next page</a>
</p>
        </div>
        <div class="col-lg-3 col-md-3">
          <div class="well">
            <h4>
              Tags
            </h4>
            <ul class="list-unstyled">
              <li>
                <a href="microposts.html">microposts</a> (24)
              </li>
              <li>
                <a href="octopress.html">octopress</a> (4)
              </li>
              <li>
                <a href="gaming.html">gaming</a> (3)
              </li>
              <li>
                <a href="development.html">development</a> (46)
              </li>
              <li>
                <a href="apple.html">apple</a> (3)
              </li>
              <li>
                <a href="heroku.html">heroku</a> (2)
              </li>
              <li>
                <a href="business.html">business</a> (1)
              </li>
              <li>
                <a href="chess.html">chess</a> (2)
              </li>
              <li>
                <a href="games.html">games</a> (2)
              </li>
              <li>
                <a href="gaeilge.html">gaeilge</a> (2)
              </li>
              <li>
                <a href="music.html">music</a> (2)
              </li>
              <li>
                <a href="architecture.html">architecture</a> (1)
              </li>
              <li>
                <a href="tech.html">tech</a> (1)
              </li>
              <li>
                <a href="javascript.html">javaScript</a> (1)
              </li>
              <li>
                <a href="fortnite.html">fortnite</a> (1)
              </li>
              <li>
                <a href="gaeilge.html">Gaeilge</a> (1)
              </li>
              <li>
                <a href="projects.html">projects</a> (1)
              </li>
            </ul>
          </div>
          <div class="well">
            <h4>
              By year
            </h4>
            <ol>
              <li>
                <a href="../2020.html">2020</a> (14)
              </li>
              <li>
                <a href="../2019.html">2019</a> (17)
              </li>
              <li>
                <a href="../2018.html">2018</a> (2)
              </li>
              <li>
                <a href="../2017.html">2017</a> (11)
              </li>
              <li>
                <a href="../2016.html">2016</a> (3)
              </li>
              <li>
                <a href="../2015.html">2015</a> (6)
              </li>
              <li>
                <a href="../2014.html">2014</a> (3)
              </li>
              <li>
                <a href="../2013.html">2013</a> (11)
              </li>
              <li>
                <a href="../2012.html">2012</a> (25)
              </li>
            </ol>
          </div>
          <div class="well">
            <h4>
              Links
            </h4>
            <ul class="list-unstyled">
              <li>
                <a href="http://www.gerardcondon.com">Gerard Condon</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>